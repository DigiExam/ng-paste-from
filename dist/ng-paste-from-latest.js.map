{"version":3,"sources":["ng-paste-from.coffee"],"names":[],"mappings":"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","file":"ng-paste-from-latest.js","sourceRoot":"/source/","sourcesContent":["angular.module \"ngPasteFrom\", []\n\t.constant \"ngPasteFromErrors\",\n\t\tinvalidColumnLength: \"NGPASTEFROM_INVALID_COLUMN_LENGTH\"\n\t\tfailedValidation: \"NGPASTEFROM_FAILED_VALIDATION\"\n\n\t.constant \"ngPasteFromSeparators\",\n\t\trow: /\\r\\n|\\n\\r|\\n|\\r/g\n\t\tcolumn: \"\\t\"\n\n\t.directive \"ngPasteFrom\", ->\n\t\trestrict: \"A\"\n\t\tscope: \n\t\t\tngPasteFrom: \"=\"\n\t\t\tngPasteFromColumns: \"=\"\n\t\t\tngPasteFromRowSeparator: \"=\"\n\t\t\tngPasteFromColumnSeparator: \"=\"\n\t\t\tngPasteFromOnPaste: \"=\"\n\t\t\tngPasteFromOnValidate: \"=\"\n\t\t\tngPasteFromOnError: \"=\"\n\n\t\tlink: ($scope, element, attrs) ->\n\t\t\tif not $scope.ngPasteFromColumns?\n\t\t\t\tconsole.error \"Missing required attribute ngPasteFromColumns.\"\n\n\t\t\t$scope.pasteEvent = (event) ->\n\t\t\t\tclipboardData = window.clipboardData || event.clipboardData || event.originalEvent && event.originalEvent.clipboardData\n\t\t\t\tdata = clipboardData.getData \"text/plain\"\n\t\t\t\tevent.preventDefault()\n\t\t\t\tif typeof $scope.ngPasteFromOnPaste is \"function\"\n\t\t\t\t\tdata = $scope.ngPasteFromOnPaste data\n\t\t\t\t$scope.processPasteData data\n\t\t\t\tfalse\n\n\t\t\t$scope.clearSourceElementEvent = ->\n\t\t\t\telement.val \"\"\n\n\t\t\telement.on \"paste\", $scope.pasteEvent\n\t\t\telement.on \"keyup\", $scope.clearSourceElementEvent\n\t\t\telement.on \"change\", $scope.clearSourceElementEvent\n\n\t\tcontroller: ($scope, $filter, ngPasteFromErrors, ngPasteFromSeparators) ->\n\t\t\t$scope.columnsToObject = (columns) ->\n\t\t\t\tobj = {}\n\t\t\t\tformat = $scope.ngPasteFromColumns\n\t\t\t\tfor column, index in columns\n\t\t\t\t\tobj[format[index]] = column\n\t\t\t\tobj\n\n\t\t\t$scope.getColumnsLength = ->\n\t\t\t\tif typeof $scope.ngPasteFromColumns is \"number\"\n\t\t\t\t\t$scope.ngPasteFromColumns\n\t\t\t\telse\n\t\t\t\t\t$scope.ngPasteFromColumns.length\n\n\t\t\t$scope.processPasteData = (data) ->\n\t\t\t\tif not (data and data.length)\n\t\t\t\t\treturn\n\n\t\t\t\trows = data.split $scope.ngPasteFromRowSeparator ? ngPasteFromSeparators.row\n\t\t\t\tresult = []\n\t\t\t\tcolumnsLength = $scope.getColumnsLength()\n\n\t\t\t\tfor row, index in rows\n\t\t\t\t\tif row is \"\"\n\t\t\t\t\t\tcontinue\n\n\t\t\t\t\tcolumns = row.split $scope.ngPasteFromColumnSeparator ? ngPasteFromSeparators.column\n\n\t\t\t\t\tif columns.length isnt columnsLength\n\t\t\t\t\t\tif typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.invalidColumnLength, index\n\t\t\t\t\t\tcontinue\n\n\t\t\t\t\tif typeof $scope.ngPasteFromColumns is \"number\"\n\t\t\t\t\t\tobj = columns\n\t\t\t\t\telse\n\t\t\t\t\t\tobj = $scope.columnsToObject columns\n\n\t\t\t\t\tif typeof $scope.ngPasteFromOnValidate isnt \"function\" or $scope.ngPasteFromOnValidate obj, index\n\t\t\t\t\t\tresult.push obj\n\t\t\t\t\telse if typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.failedValidation, index\n\n\t\t\t\t$scope.$apply ->\n\t\t\t\t\t$scope.ngPasteFrom = result\n"]}