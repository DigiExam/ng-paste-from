{"version":3,"sources":["ng-paste-from.coffee"],"names":[],"mappings":"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","file":"ng-paste-from-latest.js","sourceRoot":"/source/","sourcesContent":["angular.module \"ngPasteFrom\", []\n\t.constant \"ngPasteFromErrors\",\n\t\tinvalidColumnLength: \"NGPASTEFROM_INVALID_COLUMN_LENGTH\"\n\t\tfailedValidation: \"NGPASTEFROM_FAILED_VALIDATION\"\n\n\t.constant \"ngPasteFromSeparators\",\n\t\trow: /\\r\\n|\\n\\r|\\n|\\r/g\n\t\tcolumn: /\\t+/g\n\n\t.directive \"ngPasteFrom\", ->\n\t\trestrict: \"A\"\n\t\tscope: \n\t\t\tngPasteFrom: \"=\"\n\t\t\tngPasteFromFormat: \"=\"\n\t\t\tngPasteFromRowSeparator: \"=\"\n\t\t\tngPasteFromColumnSeparator: \"=\"\n\t\t\tngPasteFromOnPaste: \"=\"\n\t\t\tngPasteFromOnValidate: \"=\"\n\t\t\tngPasteFromOnError: \"=\"\n\n\t\tlink: ($scope, element, attrs) ->\n\t\t\tif not $scope.ngPasteFromFormat?\n\t\t\t\tconsole.error \"Missing required attribute ngPasteFromFormat.\"\n\n\t\t\telement.on \"paste\", $scope.pasteEvent\n\t\t\telement.on \"keyup\", $scope.clearSourceElementEvent\n\t\t\telement.on \"change\", $scope.clearSourceElementEvent\n\n\t\tcontroller: ($scope, $filter, ngPasteFromErrors, ngPasteFromSeparators, $timeout) ->\n\t\t\tcolumnsToObject = (columns) ->\n\t\t\t\tobj = {}\n\t\t\t\tformat = $scope.ngPasteFromFormat\n\t\t\t\tfor column, index in columns\n\t\t\t\t\tobj[format[index]] = column\n\t\t\t\tobj\n\n\t\t\tprocessPasteData = (data) ->\n\t\t\t\tif not (data and data.length)\n\t\t\t\t\treturn\n\n\t\t\t\trows = data.split $scope.ngPasteFromRowSeparator ? ngPasteFromSeparators.row\n\t\t\t\tresult = []\n\n\t\t\t\tfor row, index in rows\n\t\t\t\t\tcolumns = row.split $scope.ngPasteFromColumnSeparator ? ngPasteFromSeparators.column\n\n\t\t\t\t\tif columns.length isnt $scope.ngPasteFromFormat.length\n\t\t\t\t\t\tif typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.invalidColumnLength, index\n\t\t\t\t\t\tcontinue\n\n\t\t\t\t\tobj = columnsToObject columns\n\n\t\t\t\t\tif typeof $scope.ngPasteFromOnValidate isnt \"function\" or $scope.ngPasteFromOnValidate obj, index\n\t\t\t\t\t\tresult.push obj\n\t\t\t\t\telse if typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.failedValidation, index\n\n\t\t\t\t$scope.ngPasteFrom = result\n\n\t\t\t$scope.pasteEvent = (event) ->\n\t\t\t\telement = angular.element event.srcElement\n\t\t\t\telement.val \"\"\n\t\t\t\t$timeout ->\n\t\t\t\t\tdata = element.val()\n\t\t\t\t\telement.val \"\"\n\t\t\t\t\tif typeof $scope.ngPasteFromOnPaste is \"function\"\n\t\t\t\t\t\tdata = $scope.ngPasteFromOnPaste data\n\t\t\t\t\tprocessPasteData data\n\n\t\t\t$scope.clearSourceElementEvent = (event) ->\n\t\t\t\telement = angular.element event.srcElement\n\t\t\t\telement.val \"\"\n"]}