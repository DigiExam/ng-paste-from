(function(){angular.module("ngPasteFrom",[]).constant("ngPasteFromErrors",{invalidColumnLength:"NGPASTEFROM_INVALID_COLUMN_LENGTH",failedValidation:"NGPASTEFROM_FAILED_VALIDATION"}).constant("ngPasteFromSeparators",{row:/\r\n|\n\r|\n|\r/g,column:/\t+/g}).directive("ngPasteFrom",function(){return{restrict:"A",scope:{ngPasteFrom:"=",ngPasteFromFormat:"=",ngPasteFromRowSeparator:"=",ngPasteFromColumnSeparator:"=",ngPasteFromOnPaste:"=",ngPasteFromOnValidate:"=",ngPasteFromOnError:"="},link:function($scope,element){return null==$scope.ngPasteFromFormat&&console.error("Missing required attribute ngPasteFromFormat."),element.on("paste",$scope.pasteEvent),element.on("keyup",$scope.clearSourceElementEvent),element.on("change",$scope.clearSourceElementEvent)},controller:function($scope,$filter,ngPasteFromErrors,ngPasteFromSeparators,$timeout){var columnsToObject,processPasteData;return columnsToObject=function(columns){var column,format,index,obj,_i,_len;for(obj={},format=$scope.ngPasteFromFormat,index=_i=0,_len=columns.length;_len>_i;index=++_i)column=columns[index],obj[format[index]]=column;return obj},processPasteData=function(data){var columns,index,obj,result,row,rows,_i,_len,_ref,_ref1;if(data&&data.length){for(rows=data.split(null!=(_ref=$scope.ngPasteFromRowSeparator)?_ref:ngPasteFromSeparators.row),result=[],index=_i=0,_len=rows.length;_len>_i;index=++_i)row=rows[index],""!==row&&(columns=row.split(null!=(_ref1=$scope.ngPasteFromColumnSeparator)?_ref1:ngPasteFromSeparators.column),columns.length===$scope.ngPasteFromFormat.length?(obj=columnsToObject(columns),"function"!=typeof $scope.ngPasteFromOnValidate||$scope.ngPasteFromOnValidate(obj,index)?result.push(obj):"function"==typeof $scope.ngPasteFromOnError&&$scope.ngPasteFromOnError(ngPasteFromErrors.failedValidation,index)):"function"==typeof $scope.ngPasteFromOnError&&$scope.ngPasteFromOnError(ngPasteFromErrors.invalidColumnLength,index));return $scope.ngPasteFrom=result}},$scope.pasteEvent=function(event){var element;return element=angular.element(event.srcElement),element.val(""),$timeout(function(){var data;return data=element.val(),element.val(""),"function"==typeof $scope.ngPasteFromOnPaste&&(data=$scope.ngPasteFromOnPaste(data)),processPasteData(data)})},$scope.clearSourceElementEvent=function(event){var element;return element=angular.element(event.srcElement),element.val("")}}}})}).call(this);
//# sourceMappingURL=ng-paste-from-latest.min.js.map