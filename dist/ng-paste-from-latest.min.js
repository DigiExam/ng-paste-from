(function(){var ngPasteFrom;ngPasteFrom=angular.module("ngPasteFrom",[]),ngPasteFrom.constant("ngPasteFromErrors",{invalidColumnLength:"NGPASTEFROM_INVALID_COLUMN_LENGTH",failedValidation:"NGPASTEFROM_FAILED_VALIDATION"}).directive("ngPasteFrom",function(){return{restrict:"A",scope:{ngPasteFrom:"=",ngPasteFromFormat:"=",ngPasteFromOnValidate:"=",ngPasteFromOnError:"="},link:function($scope,element){return null==$scope.ngPasteFromFormat&&console.error("Missing required attribute ngPasteFromFormat."),element.on("paste",function(){return element.val(""),$scope.hasPasted=!0}),element.on("keyup",function(){return $scope.hasPasted&&($scope.$apply(function(){return $scope.pasteData=element.val()}),$scope.hasPasted=!1),element.val("")})},controller:function($scope,$filter,ngPasteFromErrors){var columnsToObject,defaultOnError,defaultOnValidate,splitToColumns,splitToRows;return defaultOnError=function(error,index){return console.error("ngPasteFromError: index "+index+" error: "+error)},defaultOnValidate=function(){return!0},null==$scope.ngPasteFromOnError&&($scope.ngPasteFromOnError=defaultOnError),null==$scope.ngPasteFromOnValidate&&($scope.ngPasteFromOnValidate=defaultOnValidate),splitToRows=function(data){var lineEnding,lineEndingsRegExp;return lineEndingsRegExp=/\r\n|\n\r|\n|\r/g,lineEnding="\n",data.replace(lineEndingsRegExp,lineEnding).split(lineEnding)},splitToColumns=function(row){var separatorChar;return separatorChar="	",row.split(separatorChar)},columnsToObject=function(columns){var c,format,i,o,_i,_len;for(o={},format=$scope.ngPasteFromFormat,i=_i=0,_len=columns.length;_len>_i;i=++_i)c=columns[i],o[format[i]]=c;return o},$scope.processPasteData=function(data){var columns,i,o,r,result,rows,_i,_len;for(rows=splitToRows(data),result=[],i=_i=0,_len=rows.length;_len>_i;i=++_i)r=rows[i],columns=splitToColumns(r),columns.length===$scope.ngPasteFromFormat.length?(o=columnsToObject(columns),$scope.ngPasteFromOnValidate(o,i)?result.push(o):$scope.ngPasteFromOnError(ngPasteFromErrors.failedValidation,i)):$scope.ngPasteFromOnError(ngPasteFromErrors.invalidColumnLength,i);return $scope.ngPasteFrom=result},$scope.$watch("pasteData",function(){return null!=$scope.pasteData&&0<$scope.pasteData.length?($scope.processPasteData($scope.pasteData),$scope.pasteData=null):void 0})}}})}).call(this);
//# sourceMappingURL=ng-paste-from-latest.min.js.map