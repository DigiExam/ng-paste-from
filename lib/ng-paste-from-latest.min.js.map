{"version":3,"file":"ng-paste-from-latest.min.js","sources":["ng-paste-from.coffee"],"names":[],"mappings":"CAAA,WAAA,QAAQ,OAAO,kBACb,SAAS,qBACT,oBAAqB,oCACrB,iBAAkB,kCAElB,SAAS,yBACT,IAAK,mBACL,OAAQ,SAER,UAAU,cAAe,kBACzB,SAAU,IACV,OACC,YAAa,IACb,mBAAoB,IACpB,wBAAyB,IACzB,2BAA4B,IAC5B,mBAAoB,IACpB,sBAAuB,IACvB,mBAAoB,KAErB,KAAM,SAAC,OAAQ,eACP,OAAA,OAAA,oBACN,QAAQ,MAAM,kDAEf,QAAQ,GAAG,QAAS,OAAO,YAC3B,QAAQ,GAAG,QAAS,OAAO,yBAC3B,QAAQ,GAAG,SAAU,OAAO,0BAE7B,WAAY,SAAC,OAAQ,QAAS,kBAAmB,sBAAuB,UACvE,GAAA,iBAAA,iBAAA,uBAAA,iBAAkB,SAAC,SAClB,GAAA,QAAA,OAAA,MAAA,IAAA,GAAA,IAEA,KAFA,OACA,OAAS,OAAO,mBAChB,MAAA,GAAA,EAAA,KAAA,QAAA,OAAA,KAAA,GAAA,QAAA,yBACC,IAAI,OAAO,QAAU,aACtB,MAED,iBAAmB,WAClB,MAAuC,gBAApC,QAAc,mBAChB,OAAO,mBAEP,OAAO,mBAAmB,QAE5B,iBAAmB,SAAC,MACnB,GAAA,SAAA,cAAA,MAAA,IAAA,OAAA,IAAA,KAAA,GAAA,KAAA,KAAA,KAAA,IAAQ,MAAS,KAAK,OAAtB,CAOA,IAJA,KAAO,KAAK,MAAL,OAAA,KAAA,OAAA,yBAAA,KAA4C,sBAAsB,KACzE,UACA,cAAgB,mBAEhB,MAAA,GAAA,EAAA,KAAA,KAAA,OAAA,KAAA,GAAA,QAAA,mBACW,KAAP,MAGH,QAAU,IAAI,MAAJ,OAAA,MAAA,OAAA,4BAAA,MAA8C,sBAAsB,QAE3E,QAAQ,SAAY,eAMtB,IADsC,gBAApC,QAAc,mBACV,QAEA,gBAAgB,SAEqB,kBAAzC,QAAc,uBAAyC,OAAO,sBAAsB,IAAK,OAC3F,OAAO,KAAK,KAC+B,kBAApC,QAAc,oBACrB,OAAO,mBAAmB,kBAAkB,iBAAkB,QAZvB,kBAApC,QAAc,oBAChB,OAAO,mBAAmB,kBAAkB,oBAAqB,cAapE,QAAO,YAAc,SAEtB,OAAO,WAAa,SAAC,OACpB,GAAA,eAAA,SAAU,QAAQ,QAAQ,MAAM,YAChC,QAAQ,IAAI,IACZ,SAAS,WACR,GAAA,YAAA,MAAO,QAAQ,MACf,QAAQ,IAAI,IAC2B,kBAApC,QAAc,qBAChB,KAAO,OAAO,mBAAmB,OAClC,iBAAiB,SAEnB,OAAO,wBAA0B,SAAC,OACjC,GAAA,eAAA,SAAU,QAAQ,QAAQ,MAAM,YAChC,QAAQ,IAAI","sourcesContent":["angular.module \"ngPasteFrom\", []\n\t.constant \"ngPasteFromErrors\",\n\t\tinvalidColumnLength: \"NGPASTEFROM_INVALID_COLUMN_LENGTH\"\n\t\tfailedValidation: \"NGPASTEFROM_FAILED_VALIDATION\"\n\n\t.constant \"ngPasteFromSeparators\",\n\t\trow: /\\r\\n|\\n\\r|\\n|\\r/g\n\t\tcolumn: /\\t+/g\n\n\t.directive \"ngPasteFrom\", ->\n\t\trestrict: \"A\"\n\t\tscope: \n\t\t\tngPasteFrom: \"=\"\n\t\t\tngPasteFromColumns: \"=\"\n\t\t\tngPasteFromRowSeparator: \"=\"\n\t\t\tngPasteFromColumnSeparator: \"=\"\n\t\t\tngPasteFromOnPaste: \"=\"\n\t\t\tngPasteFromOnValidate: \"=\"\n\t\t\tngPasteFromOnError: \"=\"\n\n\t\tlink: ($scope, element, attrs) ->\n\t\t\tif not $scope.ngPasteFromColumns?\n\t\t\t\tconsole.error \"Missing required attribute ngPasteFromColumns.\"\n\n\t\t\telement.on \"paste\", $scope.pasteEvent\n\t\t\telement.on \"keyup\", $scope.clearSourceElementEvent\n\t\t\telement.on \"change\", $scope.clearSourceElementEvent\n\n\t\tcontroller: ($scope, $filter, ngPasteFromErrors, ngPasteFromSeparators, $timeout) ->\n\t\t\tcolumnsToObject = (columns) ->\n\t\t\t\tobj = {}\n\t\t\t\tformat = $scope.ngPasteFromColumns\n\t\t\t\tfor column, index in columns\n\t\t\t\t\tobj[format[index]] = column\n\t\t\t\tobj\n\n\t\t\tgetColumnsLength = ->\n\t\t\t\tif typeof $scope.ngPasteFromColumns is \"number\"\n\t\t\t\t\t$scope.ngPasteFromColumns\n\t\t\t\telse\n\t\t\t\t\t$scope.ngPasteFromColumns.length\n\n\t\t\tprocessPasteData = (data) ->\n\t\t\t\tif not (data and data.length)\n\t\t\t\t\treturn\n\n\t\t\t\trows = data.split $scope.ngPasteFromRowSeparator ? ngPasteFromSeparators.row\n\t\t\t\tresult = []\n\t\t\t\tcolumnsLength = getColumnsLength()\n\n\t\t\t\tfor row, index in rows\n\t\t\t\t\tif row is \"\"\n\t\t\t\t\t\tcontinue\n\n\t\t\t\t\tcolumns = row.split $scope.ngPasteFromColumnSeparator ? ngPasteFromSeparators.column\n\n\t\t\t\t\tif columns.length isnt columnsLength\n\t\t\t\t\t\tif typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.invalidColumnLength, index\n\t\t\t\t\t\tcontinue\n\n\t\t\t\t\tif typeof $scope.ngPasteFromColumns is \"number\"\n\t\t\t\t\t\tobj = columns\n\t\t\t\t\telse\n\t\t\t\t\t\tobj = columnsToObject columns\n\n\t\t\t\t\tif typeof $scope.ngPasteFromOnValidate isnt \"function\" or $scope.ngPasteFromOnValidate obj, index\n\t\t\t\t\t\tresult.push obj\n\t\t\t\t\telse if typeof $scope.ngPasteFromOnError is \"function\"\n\t\t\t\t\t\t$scope.ngPasteFromOnError ngPasteFromErrors.failedValidation, index\n\n\t\t\t\t$scope.ngPasteFrom = result\n\n\t\t\t$scope.pasteEvent = (event) ->\n\t\t\t\telement = angular.element event.srcElement\n\t\t\t\telement.val \"\"\n\t\t\t\t$timeout ->\n\t\t\t\t\tdata = element.val()\n\t\t\t\t\telement.val \"\"\n\t\t\t\t\tif typeof $scope.ngPasteFromOnPaste is \"function\"\n\t\t\t\t\t\tdata = $scope.ngPasteFromOnPaste data\n\t\t\t\t\tprocessPasteData data\n\n\t\t\t$scope.clearSourceElementEvent = (event) ->\n\t\t\t\telement = angular.element event.srcElement\n\t\t\t\telement.val \"\"\n"],"sourceRoot":"/source/"}